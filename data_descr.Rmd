---
title: "CPG Data Description"
subtitle: "in progress"
author: "Owen Eagen, Yifan Xu"
date: "2018/11/25"
output: 
  pdf_document:
    toc: true
    number_sections: true
header-includes:
  - \usepackage{color}
  - \definecolor{airforceblue}{rgb}{0.36, 0.54, 0.66}
urlcolor: airforceblue
---

This file documents observations made during the data cleaning process for the 
CPG project.

# Replicating Previous Data Cleaning Process

This section deals with the process and results of replicating the cleaning code 
provided by Professor Joo in the RA2/data_cleaning directory.

# Exploring Files in the "externals" Directory

This section stores our findings when exploring the files in the "externals" 
directory. It mainly includes our interpretation of the variable names and 
the comparison we make between the private and public data.

## dff.zip

DFF, Dominick's Finer Foods, was a leading supermarket chain in Chicago.


## IRI.zip

### A bit about IRI
IRI, Information Resources Inc, is a market research company founded in Chicago 
in 1979, and was acquired by [Symphony Technology Group](https://www.symphonyretailai.com/about/aldata-apollo/) in 2003.[^iri] IRI developed Apollo system, which provides desktop-based solutions 
that cover category management process, including assortment management and 
on-shelf planogram (IRI is mentioned on page 304 in Dreze's paper).

### Files in IRI.zip
There are in total 28 files in the folder. Names of all files have 6 characters,
starting with "acv." The last 3 letters are abbreviations for the product
documented. A map of the identifiers to the product names is stored in 
`externals/POG/doc/category_desc.txt`.


### Variable Names
```{}
[1] "UPC"      "WEEK"     "DACVFD"   "DACVF"    "DACVD"    "DACVP"    "DINCREM"  "DACVFA"  
[9] "DACVFB"   "DKEYCAT"  "MINCREM"  "DCINCREM" "MCINCREM" "DBVOL"    "DBP"      "DBF"     
[17] "DBFD"     "DVNP"     "DBVNP"    "DBD"      "BD"       "DAVGFD"   "DAVGF"    "DAVGD" 
[25] "DAVGP"    "DWTAVG"  
```

We have not yet figured out the exact meanings of the variables yet. There are 
some descriptions in `externals/POG/doc/struct_iri.txt` but they are not clear 
enough. We tried grouping them according to observed patterns and made some guesses based on the patterns.

#### Grouping of variable names

* `DACVF, DACVP, DACVD`
    + `ACVFB, DACVFD, DACVFA`
* `DINCREM, MINCREAM, DCINCREM, MCINCREM`
* `DBVOL, DBP, DBF, DBD, DBFD`
* `DVNP, DBVNP`
* `BD`
* `DAVGFD, DAVGF, DAVGD, DAVGP, DWTAVG`

#### Guesses of meanings of patterns

* `D-`: Daily? Dominick's?
* `-AC-`: Accumulated? Average cost?
* `-ACV-`:
*	`V`: Volume
*	`-AVG-`: Average
*	`WTAVG`: Weighted average
*	`-P`: Price
*	`-BP`: Bundle price?
*	`-D`: Deal
*	`-F`: Feature
*	`-INCREM`: Increment
*	`-C-`: Cumulative? Cost?
*	`M-`: Monthly


## OMNI.zip

[Omni Resources](https://www.omniresources.com) is a technology consulting firm
found in 1984.

### Files in IRI.zip
There are in total 54 files in the folder, the names of half of which start with
`ow` and the other half `oupc`. The last 3 letters of the file names, as in IRI.zip,
are still abbreviations of the product documented. Files starting with `oupc` 
contain information of products while those starting with `ow` contain movement
records.

### Variable Names
Variable names for `oupc-`
```{}
[1] "COM_CODE"  "NITEM"  "UPC"  "DESCRIP"  "SIZE"  "CASE"
```
These variables are consistent with those in the previously cleaned data and can 
therefore be cleaned/handcoded in a similar way.
They can be matched to variables in the `product_char` files as follows:

* `COM_CODE`: `com_code`
* `NITEM`: `dominick_id`
* `UPC`: `UPC`
* `DESCRIP`: `description`
* `SIZE`: `package_size`
* `CASE`: `boxsize_seller`

Variable names for `ow-`
```{}
[1] "STORE"  "WEEK"   "UPC"   "MOVE"   "QTY"  "PRICE"  "SALE"  
[9] "PROFIT"  "OK"
```
These variables are also consistent with those in the previously cleaned data 
and can therefore be cleaned in a similar way.

[^iri]: Source: [Wikipedia](https://en.wikipedia.org/wiki/IRI_(company))


## OMNIIRI.zip


